<form action="/auth/register" method="POST" novalidate>
  <input type="hidden" name="_csrf" value="{{csrfToken}}">

  <!-- Display validation errors or general error -->
  {{#if errors}}
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      <ul style="margin: 0; padding-left: 20px;">
        {{#each errors}}
          <li>{{this.msg}}</li>
        {{/each}}
      </ul>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  {{/if}}
  {{#if error}}
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      {{error}}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  {{/if}}

  <!-- Full name -->
  <div class="inputGroup inputGroup1">
    <label for="registerName" id="registerNameLabel">Full name</label>
    <input
      type="text"
      id="registerName"
      name="name"
      maxlength="100"
      required
      autocomplete="name"
      aria-labelledby="registerNameLabel"
      value="{{#if values}}{{values.name}}{{/if}}"
    />
    <p class="helper helper1">e.g. John Doe</p>
  </div>

  <!-- Email -->
  <div class="inputGroup inputGroup1">
    <label for="registerEmail" id="registerEmailLabel">Email</label>
    <input
      type="email"
      id="registerEmail"
      name="email"
      maxlength="254"
      required
      autocomplete="email"
      aria-labelledby="registerEmailLabel"
      value="{{#if values}}{{values.email}}{{/if}}"
    />
    <p class="helper helper1">email@domain.com</p>
    <!-- Ajax validation message -->
    <div id="emailValidationMessage" class="ajax-validation-message" style="display: none; margin-top: 5px; font-size: 0.875rem;"></div>
  </div>

  <!-- Password -->
  <div class="inputGroup inputGroup2">
    <label for="registerPassword" id="registerPasswordLabel">Password</label>
    <input
      type="password"
      id="registerPassword"
      name="password"
      required
      minlength="8"
      autocomplete="new-password"
      aria-labelledby="registerPasswordLabel"
    />
    <!-- uses your existing CSS for #showPasswordToggle -->
    <label id="showPasswordToggle" for="showPasswordCheck">
      Show
      <input id="showPasswordCheck" type="checkbox" />
      <div class="indicator"></div>
    </label>
    <p class="helper helper3">At least 8 characters (mix of upper/lowercase &amp; digits recommended)</p>
  </div>

  <!-- Confirm password (no toggle to keep CSS unchanged) -->
  <div class="inputGroup inputGroup3">
    <label for="registerPasswordConfirm" id="registerPasswordConfirmLabel">Confirm password</label>
    <input
      type="password"
      id="registerPasswordConfirm"
      name="passwordConfirm"
      required
      minlength="8"
      autocomplete="new-password"
      aria-labelledby="registerPasswordConfirmLabel"
    />
  </div>

  <!-- Role selection -->
  <div class="inputGroup inputGroup3-5">
    <span id="registerRoleLabel" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">I want to register as:</span>
    <div class="radioGroup" role="group" aria-labelledby="registerRoleLabel">
      <label for="roleStudent" class="radioOption">
        <input 
          type="radio" 
          id="roleStudent" 
          name="role" 
          value="student" 
          required 
          {{#if values}}
            {{#if (eq values.role 'student')}}checked{{/if}}
          {{else}}
            checked
          {{/if}}
        />
        <span class="radioLabel">Student - Learn courses</span>
      </label>
      <div class="instructor-notice" style="margin-top: 10px; padding: 10px; background-color: #f8f9fa; border-left: 4px solid #007bff; border-radius: 4px;">
        <p style="margin: 0; font-size: 14px; color: #6c757d;">
          <i class="bi bi-info-circle"></i> 
          <strong>Want to become an instructor?</strong> Instructor accounts are created by administrators. 
          Please contact us at <a href="mailto:support@mentoracademy.com">support@mentoracademy.com</a> for more information.
        </p>
      </div>
    </div>
  </div>

  <!-- Terms -->
  <div class="inputGroup inputGroup4">
    <label for="termsCheck" style="font-weight:400;">
      <input id="termsCheck" name="acceptTerms" type="checkbox" required />
      I agree to the <a href="/terms" target="_blank" rel="noopener">Terms</a> &amp;
      <a href="/privacy" target="_blank" rel="noopener">Privacy Policy</a>
    </label>
  </div>

  <!-- Submit -->
  <div class="inputGroup inputGroup5">
    <button type="submit" id="register">Create account</button>
  </div>

  <!-- Link to login -->
  <div class="inputGroup inputGroup6" style="text-align: center;">
    <p class="helper helperAlt" style="font-size:1em; margin-top:0.75em;">
      Already have an account? <a href="/auth/login">Log in</a>
    </p>
  </div>
</form>

