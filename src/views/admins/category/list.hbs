<div class="container mt-4">
  <h2 class="mb-3 text-center">Category Management</h2>

  <div class="text-end mb-3">
    <a href="/admins/categories/add" class="btn btn-success">
      <i class="bi bi-plus-circle"></i> Add New Category
    </a>
  </div>

  <table class="table table-bordered align-middle">
    <thead class="table-light">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Category Name</th>
        <th scope="col">Parent Category</th>
        <th scope="col" class="text-center">Actions</th>
      </tr>
    </thead>
    <tbody>
      {{#each categories}}
      <tr>
        <td>{{id}}</td>
        <td>{{name}}</td>
        <td>{{parent_name}}</td>
        <td class="text-center">
          <a href="/admins/categories/edit/{{id}}" class="btn btn-sm btn-primary me-1">
            <i class="bi bi-pencil"></i> Edit
          </a>

          <form action="/admins/categories/delete/{{id}}" method="POST" class="d-inline">
            <input type="hidden" name="_csrf" value="{{../csrfToken}}">
            <button type="submit" class="btn btn-sm btn-danger"
              onclick="return confirm('Are you sure you want to delete this category?');">
              <i class="bi bi-trash"></i> Delete
            </button>
          </form>
        </td>
      </tr>
      {{else}}
      <tr>
        <td colspan="4" class="text-center">No categories found.</td>
      </tr>
      {{/each}}
    </tbody>
  </table>
</div>
