<body class="index-page">
  <main class="main">
    <!-- About Section -->
    <section id="about" class="about section">
      <div class="container">
        <div class="row gy-4">
          <div class="col-lg-6 order-1 order-lg-2" data-aos="fade-up" data-aos-delay="100">
            <img src="/img/about.jpg" class="img-fluid" alt="">
          </div>
          <div class="col-lg-6 order-2 order-lg-1 content" data-aos="fade-up" data-aos-delay="200">
            <h3>Empower Your Future with Expert-Led Online Courses</h3>
            <p class="fst-italic">Learn anytime, anywhere with courses designed by top instructors.</p>
            <ul>
              <li><i class="bi bi-check-circle"></i> <span>Gain real-world skills that matter.</span></li>
              <li><i class="bi bi-check-circle"></i> <span>Learn at your own pace.</span></li>
              <li><i class="bi bi-check-circle"></i> <span>Earn certificates recognized by employers.</span></li>
            </ul>
            <a href="#" class="read-more"><span>Start Learning Today</span><i class="bi bi-arrow-right"></i></a>
            <!-- TODO: Change to link to courses page -->
          </div>
        </div>
      </div>
    </section><!-- /About Section -->

    <!-- Featured This Week Section - Carousel -->
    <section id="featured-this-week" class="featured-this-week section py-5"
      style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
      <div class="container">
        <div class="row mb-4">
          <div class="col-12 text-center">
            <h2 class="h3 fw-bold text-white mb-2" style="font-size: 2.5rem; text-align: center;">üî• Featured This Week
            </h2>
            <p class="text-white-50" style="font-size: 1.2rem;text-align: center;margin-bottom: 0;">Most popular courses
              enrolled this
              week</p>
          </div>
        </div>

        {{#if featuredThisWeek.length}}
        <div id="featuredCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="4000"
          data-bs-pause="hover" data-bs-wrap="true">
          <div class="carousel-inner">
            {{#each featuredThisWeek}}
            <div class="carousel-item {{#if @first}}active{{/if}}">
              <div class="row align-items-center h-100">
                <div class="col-md-6">
                  <img src="{{thumbnail_url}}" class="d-block w-100 rounded shadow" alt="{{title}}"
                    style="height: 400px; object-fit: cover;">
                </div>
                <div class="col-md-6 text-white d-flex align-items-center">
                  <div class="p-4 w-100">
                    <div class="mb-3">
                      {{#if is_bestseller}}
                      <span class="badge bg-warning text-dark me-2">üèÜ Best Seller</span>
                      {{/if}}
                      {{#if is_new}}
                      <span class="badge bg-success">‚ú® New</span>
                      {{/if}}
                      <span class="badge bg-light text-dark">{{category_name}}</span>
                    </div>
                    <h3 class="h2 fw-bold mb-3">{{title}}</h3>
                    <p class="lead mb-3">{{short_desc}}</p>
                    <div class="course-meta mb-4">
                      <div class="d-flex align-items-center mb-2">
                        <i class="bi bi-person-fill me-2"></i>
                        <span>{{instructor_name}}</span>
                      </div>
                      <div class="d-flex align-items-center mb-2">
                        <div class="rating me-2">
                          {{#each (range 1 5)}}
                          <i class="bi bi-star{{#if (gte ../rating_avg this)}}-fill{{/if}} text-warning me-1"></i>
                          {{/each}}
                        </div>
                        <span>{{rating_avg}} ({{rating_count}} reviews)</span>
                      </div>
                      <div class="d-flex align-items-center">
                        <i class="bi bi-people-fill me-2"></i>
                        <span>{{weekly_enrollments}} students enrolled this week</span>
                      </div>
                    </div>
                    <div class="d-flex align-items-center gap-3">
                      <div class="price">
                        {{#if sale_price}}
                        <span class="h3 text-warning fw-bold mb-0">{{formatPrice sale_price}}ƒë</span>
                        <span class="text-white-50 text-decoration-line-through ms-2">{{formatPrice price}}ƒë</span>
                        {{else}}
                        <span class="h3 text-white fw-bold mb-0">{{formatPrice price}}ƒë</span>
                        {{/if}}
                      </div>
                      <a href="/courses/{{id}}" class="btn btn-warning btn-lg fw-bold">
                        View Course <i class="bi bi-arrow-right"></i>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            {{/each}}
          </div>

          <!-- Carousel Indicators -->
          <div class="carousel-indicators">
            {{#each featuredThisWeek}}
            <button type="button" data-bs-target="#featuredCarousel" data-bs-slide-to="{{@index}}" {{#if
              @first}}class="active" aria-current="true" {{/if}} aria-label="Slide {{add @index 1}}"></button>
            {{/each}}
          </div>
        </div>
        {{else}}
        <div class="text-center text-white py-5">
          <i class="bi bi-calendar-event display-4"></i>
          <p class="mt-3">No featured courses this week</p>
        </div>
        {{/if}}
      </div>
    </section><!-- /Featured This Week Section -->

    <!-- Popular Categories Section -->
    <section id="popular-categories" class="popular-categories section py-5 bg-light">
      <div class="container">
        <div class="row">
          <div class="col-12">
            <h2 class="h3 fw-bold mb-4 text-center">Popular Categories</h2>
            <p class="text-center text-muted mb-5">Explore our most popular course categories</p>
          </div>
        </div>
        <div class="row g-4">
          {{#each popularCategories}}
          <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="100">
            <div class="category-card bg-white rounded shadow-sm border-0 h-100 p-4 text-center"
              style="transition: all 0.3s ease; cursor: pointer;"
              onclick="window.location.href='/courses?category={{id}}'">
              <div class="category-icon mb-3">
                <i class="bi bi-{{#if (eq name 'Web Development')}}code-slash{{else if (eq name 'Data Science')}}bar-chart{{else if (eq name 'Mobile Development')}}phone{{else if (eq name 'Design')}}palette{{else if (eq name 'Marketing')}}megaphone{{else if (eq name 'Business')}}briefcase{{else}}book{{/if}} text-primary"
                  style="font-size: 3rem;"></i>
              </div>
              <h5 class="category-title fw-bold mb-2">{{name}}</h5>
              <p class="text-muted small mb-3">{{enrollment_count}} students enrolled</p>
              <div class="category-link">
                <span class="text-primary fw-semibold">Explore Courses <i class="bi bi-arrow-right"></i></span>
              </div>
            </div>
          </div>
          {{/each}}
        </div>
        <div class="text-center mt-4">
          <a href="/courses" class="btn btn-outline-primary">View All Categories</a>
        </div>
      </div>
    </section><!-- /Popular Categories Section -->

    <!-- Featured Courses Section - Udemy Style -->
    <section id="featured-courses" class="featured-courses section py-5">
      <div class="container">
        <div class="row">
          <div class="col-12">
            <h2 class="h3 fw-bold mb-4">Featured courses</h2>
          </div>
        </div>
        <div class="row g-4">
          {{#each mostViewed}}
          <div class="col-lg-3 col-md-6" data-aos="fade-up" data-aos-delay="100">
            <div class="course-card bg-white rounded shadow-sm border-0 h-100"
              style="transition: all 0.3s ease; overflow: hidden;">
              <div class="course-thumbnail position-relative">
                <img src="{{thumbnail_url}}" referrerpolicy="no-referrer" class="img-fluid w-100" alt="{{title}}"
                  style="height: 200px; object-fit: cover;">
                {{#if is_new}}
                <span class="badge bg-success position-absolute top-0 end-0 m-2">New</span>
                {{/if}}
                <div
                  class="course-overlay position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center"
                  style="background: rgba(0,0,0,0.7); opacity: 0; transition: opacity 0.3s ease;">
                  <a href="/courses/{{id}}" class="btn btn-warning btn-sm">View Course</a>
                </div>
              </div>
              <div class="course-content p-3">
                <h6 class="course-title fw-bold mb-2" style="font-size: 0.9rem; line-height: 1.3;">
                  <a href="/courses/{{id}}" class="text-decoration-none text-dark">{{title}}</a>
                </h6>
                <p class="course-instructor text-muted small mb-2">{{instructor_name}}</p>
                <div class="course-rating d-flex align-items-center mb-2">
                  <div class="rating me-2">
                    {{#each (range 1 5)}}
                    <i class="bi bi-star{{#if (gte ../rating_avg this)}}-fill{{/if}} text-warning me-1"></i>
                    {{/each}}
                  </div>
                  <span class="text-muted small">{{rating_avg}} ({{rating_count}})</span>
                </div>
                <div class="course-price d-flex align-items-center justify-content-between">
                  <div>
                    {{#if sale_price}}
                    <span class="h6 text-dark fw-bold mb-0">{{formatPrice sale_price}}ƒë</span>
                    <span class="text-decoration-line-through text-muted small ms-2">{{formatPrice price}}ƒë</span>
                    {{else}}
                    <span class="h6 text-dark fw-bold mb-0">{{formatPrice price}}ƒë</span>
                    {{/if}}
                  </div>
                  {{#if sale_price}}
                  <span class="badge bg-danger small">Sale</span>
                  {{/if}}
                </div>
              </div>
            </div>
          </div>
          {{/each}}
        </div>
        <div class="text-center mt-4">
          <a href="/courses" class="btn btn-outline-primary">Explore all courses</a>
        </div>
      </div>
    </section><!-- /Featured Courses Section -->

    <!-- New Courses Section -->
    <section id="new-courses" class="courses section light-background">

      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <h2>Newest Courses</h2>
        <p>Newest Courses For You</p>
      </div><!-- End Section Title -->

      <div class="container">

        <div class="row">
          {{#each newest}}
          <div class="col-lg-4 col-md-6 d-flex align-items-stretch" data-aos="zoom-in" data-aos-delay="100">
            <div class="course-item">
              <img src="{{thumbnail_url}}" onerror="this.src='/img/course/course-1.webp';" class="img-fluid"
                alt="{{title}}">
              <div class="course-content">
                <div class="d-flex justify-content-between align-items-center mb-3">
                  <p class="category">{{category_name}}</p>
                  <p class="price">
                    {{#if sale_price}}
                    <span class="text-decoration-line-through text-muted">{{formatPrice price}}ƒë</span>
                    <span class="text-danger fw-bold">{{formatPrice sale_price}}ƒë</span>
                    {{else}}
                    {{formatPrice price}}ƒë
                    {{/if}}
                  </p>
                </div>

                <h3><a href="/courses/{{id}}">{{title}}</a></h3>
                <p class="description">{{short_desc}}</p>
                <div class="trainer d-flex justify-content-between align-items-center">
                  <div class="trainer-profile d-flex align-items-center">
                    <img src="/img/person/person-m-7.webp" class="img-fluid rounded-circle me-2"
                      alt="{{instructor_name}}" style="width: 30px; height: 30px;">
                    <a href="#" class="trainer-link">{{instructor_name}}</a>
                  </div>
                  <div class="trainer-rank d-flex align-items-center">
                    <div class="rating me-2">
                      {{#each (range 1 5)}}
                      <i class="bi bi-star{{#if (gte ../rating_avg this)}}-fill{{/if}} text-warning me-1"></i>
                      {{/each}}
                    </div>
                    <span class="me-3">{{rating_avg}}</span>
                    <i class="bi bi-eye text-primary"></i>&nbsp;{{views}}
                  </div>
                </div>
              </div>
            </div>
          </div> <!-- End Course Item-->
          {{/each}}
        </div>

        <div class="text-center mt-4" data-aos="fade-up" data-aos-delay="400">
          <a href="/courses?sort=newest" class="btn btn-outline-primary">Show more courses</a>
        </div>

      </div>

    </section><!-- /New Courses Section -->

    <!-- Trainers Index Section -->
    <section id="trainers-index" class="section trainers-index">

      <div class="container">

        <div class="row">

          <div class="col-lg-4 col-md-6 d-flex" data-aos="fade-up" data-aos-delay="100">
            <div class="member">
              <img src="/img/trainers/trainer-1.jpg" class="img-fluid" alt="">
              <div class="member-content">
                <h4>Walter White</h4>
                <span>Web Development</span>
                <p>
                  Magni qui quod omnis unde et eos fuga et exercitationem. Odio veritatis perspiciatis quaerat qui aut
                  aut aut
                </p>
                <div class="social">
                  <a href=""><i class="bi bi-twitter-x"></i></a>
                  <a href=""><i class="bi bi-facebook"></i></a>
                  <a href=""><i class="bi bi-instagram"></i></a>
                  <a href=""><i class="bi bi-linkedin"></i></a>
                </div>
              </div>
            </div>
          </div><!-- End Team Member -->

          <div class="col-lg-4 col-md-6 d-flex" data-aos="fade-up" data-aos-delay="200">
            <div class="member">
              <img src="/img/trainers/trainer-2.jpg" class="img-fluid" alt="">
              <div class="member-content">
                <h4>Sarah Jhinson</h4>
                <span>Marketing</span>
                <p>
                  Repellat fugiat adipisci nemo illum nesciunt voluptas repellendus. In architecto rerum rerum
                  temporibus
                </p>
                <div class="social">
                  <a href=""><i class="bi bi-twitter-x"></i></a>
                  <a href=""><i class="bi bi-facebook"></i></a>
                  <a href=""><i class="bi bi-instagram"></i></a>
                  <a href=""><i class="bi bi-linkedin"></i></a>
                </div>
              </div>
            </div>
          </div><!-- End Team Member -->

          <div class="col-lg-4 col-md-6 d-flex" data-aos="fade-up" data-aos-delay="300">
            <div class="member">
              <img src="/img/trainers/trainer-3.jpg" class="img-fluid" alt="">
              <div class="member-content">
                <h4>William Anderson</h4>
                <span>Content</span>
                <p>
                  Voluptas necessitatibus occaecati quia. Earum totam consequuntur qui porro et laborum toro des clara
                </p>
                <div class="social">
                  <a href=""><i class="bi bi-twitter-x"></i></a>
                  <a href=""><i class="bi bi-facebook"></i></a>
                  <a href=""><i class="bi bi-instagram"></i></a>
                  <a href=""><i class="bi bi-linkedin"></i></a>
                </div>
              </div>
            </div>
          </div><!-- End Team Member -->

        </div>

      </div>

    </section><!-- /Trainers Index Section -->

  </main>



  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i
      class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
  <div id="preloader"></div>

  <style>
    /* Carousel Height Fix */
    #featuredCarousel .carousel-inner {
      min-height: 500px;
      /* ƒê·∫£m b·∫£o chi·ªÅu cao t·ªëi thi·ªÉu */
    }

    #featuredCarousel .carousel-item {
      min-height: 500px;
      /* Chi·ªÅu cao c·ªë ƒë·ªãnh cho m·ªói slide */
    }

    #featuredCarousel .carousel-item .row {
      min-height: 500px;
      /* Chi·ªÅu cao c·ªë ƒë·ªãnh cho row */
      align-items: center;
      /* CƒÉn gi·ªØa theo chi·ªÅu d·ªçc */
    }

    #featuredCarousel .carousel-item .col-md-6 {
      display: flex;
      flex-direction: column;
      justify-content: center;
      /* CƒÉn gi·ªØa n·ªôi dung */
    }

    #featuredCarousel .carousel-item .col-md-6:last-child {
      padding: 2rem;
      /* Padding c·ªë ƒë·ªãnh cho ph·∫ßn text */
    }

    /* ƒê·∫£m b·∫£o ·∫£nh c√≥ chi·ªÅu cao c·ªë ƒë·ªãnh */
    #featuredCarousel .carousel-item img {
      height: 400px !important;
      object-fit: cover;
      width: 100%;
    }

    /* Carousel Indicators Positioning */
    #featuredCarousel .carousel-indicators {
      position: static;
      margin: 20px 0 0 0;
      justify-content: center;
    }

    #featuredCarousel .carousel-indicators button {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      margin: 0 5px;
      background-color: rgba(255, 255, 255, 0.5);
      border: 2px solid rgba(255, 255, 255, 0.8);
      transition: all 0.3s ease;
    }

    #featuredCarousel .carousel-indicators button.active {
      background-color: #fff;
      border-color: #fff;
      transform: scale(1.2);
    }

    #featuredCarousel .carousel-indicators button:hover {
      background-color: rgba(255, 255, 255, 0.8);
      border-color: #fff;
    }
  </style>

</body>