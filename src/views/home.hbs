<body class="index-page">
  <main class="main">
    <!-- About Section -->
    <section id="about" class="about section">
      <div class="container">
        <div class="row gy-4">
          <div class="col-lg-6 order-1 order-lg-2" data-aos="fade-up" data-aos-delay="100">
            <img src="/img/about.jpg" class="img-fluid" alt="">
          </div>
          <div class="col-lg-6 order-2 order-lg-1 content" data-aos="fade-up" data-aos-delay="200">
            <h3>Empower Your Future with Expert-Led Online Courses</h3>
            <p class="fst-italic">Learn anytime, anywhere with courses designed by top instructors.</p>
            <ul>
              <li><i class="bi bi-check-circle"></i> <span>Gain real-world skills that matter.</span></li>
              <li><i class="bi bi-check-circle"></i> <span>Learn at your own pace.</span></li>
              <li><i class="bi bi-check-circle"></i> <span>Earn certificates recognized by employers.</span></li>
            </ul>
            <a href="#" class="read-more"><span>Start Learning Today</span><i class="bi bi-arrow-right"></i></a>
            <!-- TODO: Change to link to courses page -->
          </div>
        </div>
      </div>
    </section><!-- /About Section -->

    <!-- Featured Courses Section - Udemy Style -->
    <section id="featured-courses" class="featured-courses section py-5">
      <div class="container">
        <div class="row">
          <div class="col-12">
            <h2 class="h3 fw-bold mb-4">Featured courses</h2>
          </div>
        </div>
        <div class="row g-4">
          {{#each mostViewed}}
          <div class="col-lg-3 col-md-6" data-aos="fade-up" data-aos-delay="100">
            <div class="course-card bg-white rounded shadow-sm border-0 h-100"
              style="transition: all 0.3s ease; overflow: hidden;">
              <div class="course-thumbnail position-relative">
                <img src="{{thumbnail_url}}"
                  onerror="console.log('Error loading image:', this.src); this.src='/img/course/course-1.webp';"
                  onload="console.log('Image loaded successfully:', this.src)" crossorigin="anonymous"
                  referrerpolicy="no-referrer" class="img-fluid w-100" alt="{{title}}"
                  style="height: 200px; object-fit: cover;">
                <div
                  class="course-overlay position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center"
                  style="background: rgba(0,0,0,0.7); opacity: 0; transition: opacity 0.3s ease;">
                  <a href="/courses/{{id}}" class="btn btn-warning btn-sm">View Course</a>
                </div>
              </div>
              <div class="course-content p-3">
                <h6 class="course-title fw-bold mb-2" style="font-size: 0.9rem; line-height: 1.3;">
                  <a href="/courses/{{id}}" class="text-decoration-none text-dark">{{title}}</a>
                </h6>
                <p class="course-instructor text-muted small mb-2">{{instructor_name}}</p>
                <div class="course-rating d-flex align-items-center mb-2">
                  <div class="rating me-2">
                    {{#range 1 5}}
                    <i class="bi bi-star{{#if (gt ../rating_avg this)}}-fill{{/if}} text-warning"
                      style="font-size: 0.8rem;"></i>
                    {{/range}}
                  </div>
                  <span class="text-muted small">{{rating_avg}} ({{rating_count}})</span>
                </div>
                <div class="course-price d-flex align-items-center justify-content-between">
                  <div>
                    {{#if sale_price}}
                    <span class="h6 text-dark fw-bold mb-0">{{formatPrice sale_price}}đ</span>
                    <span class="text-decoration-line-through text-muted small ms-2">{{formatPrice price}}đ</span>
                    {{else}}
                    <span class="h6 text-dark fw-bold mb-0">{{formatPrice price}}đ</span>
                    {{/if}}
                  </div>
                  {{#if sale_price}}
                  <span class="badge bg-danger small">Sale</span>
                  {{/if}}
                </div>
              </div>
            </div>
          </div>
          {{/each}}
        </div>
        <div class="text-center mt-4">
          <a href="/courses" class="btn btn-outline-primary">Explore all courses</a>
        </div>
      </div>
    </section><!-- /Featured Courses Section -->

    <!-- New Courses Section -->
    <section id="new-courses" class="courses section light-background">

      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <h2>Khóa học mới nhất</h2>
        <p>Những khóa học vừa được thêm vào</p>
      </div><!-- End Section Title -->

      <div class="container">

        <div class="row">
          {{#each newest}}
          <div class="col-lg-4 col-md-6 d-flex align-items-stretch" data-aos="zoom-in" data-aos-delay="100">
            <div class="course-item">
              <img src="{{thumbnail_url}}" onerror="this.src='/img/course/course-1.webp';" class="img-fluid"
                alt="{{title}}">
              <div class="course-content">
                <div class="d-flex justify-content-between align-items-center mb-3">
                  <p class="category">{{category_name}}</p>
                  <p class="price">
                    {{#if sale_price}}
                    <span class="text-decoration-line-through text-muted">{{formatPrice price}}đ</span>
                    <span class="text-danger fw-bold">{{formatPrice sale_price}}đ</span>
                    {{else}}
                    {{formatPrice price}}đ
                    {{/if}}
                  </p>
                </div>

                <h3><a href="/courses/{{id}}">{{title}}</a></h3>
                <p class="description">{{short_desc}}</p>
                <div class="trainer d-flex justify-content-between align-items-center">
                  <div class="trainer-profile d-flex align-items-center">
                    <img src="/img/person/person-m-7.webp" class="img-fluid rounded-circle me-2"
                      alt="{{instructor_name}}" style="width: 30px; height: 30px;">
                    <a href="#" class="trainer-link">{{instructor_name}}</a>
                  </div>
                  <div class="trainer-rank d-flex align-items-center">
                    <i class="bi bi-star text-warning"></i>&nbsp;{{rating_avg}}
                    &nbsp;&nbsp;
                    <i class="bi bi-eye text-primary"></i>&nbsp;{{views}}
                  </div>
                </div>
              </div>
            </div>
          </div> <!-- End Course Item-->
          {{/each}}
        </div>

        <div class="text-center mt-4" data-aos="fade-up" data-aos-delay="400">
          <a href="/courses?sort=newest" class="btn btn-outline-primary">Xem thêm khóa học mới</a>
        </div>

      </div>

    </section><!-- /New Courses Section -->

    <!-- Trainers Index Section -->
    <section id="trainers-index" class="section trainers-index">

      <div class="container">

        <div class="row">

          <div class="col-lg-4 col-md-6 d-flex" data-aos="fade-up" data-aos-delay="100">
            <div class="member">
              <img src="/img/trainers/trainer-1.jpg" class="img-fluid" alt="">
              <div class="member-content">
                <h4>Walter White</h4>
                <span>Web Development</span>
                <p>
                  Magni qui quod omnis unde et eos fuga et exercitationem. Odio veritatis perspiciatis quaerat qui aut
                  aut aut
                </p>
                <div class="social">
                  <a href=""><i class="bi bi-twitter-x"></i></a>
                  <a href=""><i class="bi bi-facebook"></i></a>
                  <a href=""><i class="bi bi-instagram"></i></a>
                  <a href=""><i class="bi bi-linkedin"></i></a>
                </div>
              </div>
            </div>
          </div><!-- End Team Member -->

          <div class="col-lg-4 col-md-6 d-flex" data-aos="fade-up" data-aos-delay="200">
            <div class="member">
              <img src="/img/trainers/trainer-2.jpg" class="img-fluid" alt="">
              <div class="member-content">
                <h4>Sarah Jhinson</h4>
                <span>Marketing</span>
                <p>
                  Repellat fugiat adipisci nemo illum nesciunt voluptas repellendus. In architecto rerum rerum
                  temporibus
                </p>
                <div class="social">
                  <a href=""><i class="bi bi-twitter-x"></i></a>
                  <a href=""><i class="bi bi-facebook"></i></a>
                  <a href=""><i class="bi bi-instagram"></i></a>
                  <a href=""><i class="bi bi-linkedin"></i></a>
                </div>
              </div>
            </div>
          </div><!-- End Team Member -->

          <div class="col-lg-4 col-md-6 d-flex" data-aos="fade-up" data-aos-delay="300">
            <div class="member">
              <img src="/img/trainers/trainer-3.jpg" class="img-fluid" alt="">
              <div class="member-content">
                <h4>William Anderson</h4>
                <span>Content</span>
                <p>
                  Voluptas necessitatibus occaecati quia. Earum totam consequuntur qui porro et laborum toro des clara
                </p>
                <div class="social">
                  <a href=""><i class="bi bi-twitter-x"></i></a>
                  <a href=""><i class="bi bi-facebook"></i></a>
                  <a href=""><i class="bi bi-instagram"></i></a>
                  <a href=""><i class="bi bi-linkedin"></i></a>
                </div>
              </div>
            </div>
          </div><!-- End Team Member -->

        </div>

      </div>

    </section><!-- /Trainers Index Section -->

  </main>



  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i
      class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
  <div id="preloader"></div>

</body>